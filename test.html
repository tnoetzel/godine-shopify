<!-- <script src="https://unpkg.com/@shopify/storefront-api-client@0.2.3/dist/umd/storefront-api-client.min.js"></script>

<script>
    const client = ShopifyStorefrontAPIClient.createStorefrontApiClient({
        storeDomain: 'http://davidrgodine.myshopify.com',
        apiVersion: '2024-04',
        publicAccessToken: '0fc0056e09b62e93104f1e4d0f0b1dc1',
    });


  const collectionQuery = `
  query {
	collections(first: 10, query:"title:author*") {
        edges {
            node {
                id
                title
                handle
                updatedAt
                authorLastFirst: metafield(namespace: "godine", key: "author_last_first") {
                    value
                    type
                }
            }
        }
        pageInfo {
            hasPreviousPage
            hasNextPage
            startCursor
            endCursor
        }
	}
}
  `;


  const shopQuery = `
  query shop {
    shop {
      name
      id
    }
  }
`;

async function runIt() {

    console.log(client);

    const {data, errors, extensions } = await client.request(shopQuery);

    // // for await (const response of responseStream) {
    // //     const {data, errors, extensions, hasNext} = response;
    // //     console.log(`data`, hasNext);
    // // }

    console.log(`data`, data);
    console.log(`errors`, errors);
    console.log(`extensions`, extensions);
    // console.log(`hasNext`, hasNext);

    //     const response = await client.fetch(shopQuery);

    // if (response.ok) {
    // const {errors, data, extensions} = await response.json();
    // } else {
    //     console.log(`response`, response);
    // }
}
runIt();

</script> -->


<script>
    const collectionQuery = `
  query {
	collections(first: 10, query:"title:author*") {
        edges {
            node {
                id
                title
                handle
                updatedAt
                authorLastFirst: metafield(namespace: "godine", key: "author_last_first") {
                    value
                    type
                }
            }
        }
        pageInfo {
            hasPreviousPage
            hasNextPage
            startCursor
            endCursor
        }
	}
}
  `;

    const myHeaders = new Headers();
    myHeaders.append("Content-Type", "application/json");
    myHeaders.append("X-Shopify-Storefront-Access-Token", "0fc0056e09b62e93104f1e4d0f0b1dc1");

    async function runIt() {
        const res = await fetch('', {
            body: collectionQuery,
            method: 'POST'
        });

        console.log(`res`, res);
    }

    runIt();
</script>